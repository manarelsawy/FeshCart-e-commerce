import{a as J,b as K,c as Q}from"./chunk-2Q35BUHK.js";import{a as X,b as Y}from"./chunk-A2ODOXJN.js";import{a as G}from"./chunk-2CCICHFP.js";import{a as q}from"./chunk-4O2H3TSK.js";import{a as ee}from"./chunk-MKWN3SVT.js";import{a as R,c as $,e as z,k as U}from"./chunk-OHJIK5BS.js";import{a as V}from"./chunk-WW5ZO7M5.js";import{a as Z}from"./chunk-NZWNPLJ2.js";import"./chunk-XAZLOLJU.js";import{a as O}from"./chunk-OHNC77NK.js";import{h as I}from"./chunk-6ZCYXRR4.js";import"./chunk-RR6JAF5F.js";import{Ab as _,Hb as h,Ib as c,Jb as u,Lb as B,Mb as M,Na as W,Nb as D,Pb as j,Qb as A,Ra as a,Rb as N,Vb as T,Xa as L,Xb as y,aa as p,ab as H,da as P,gb as x,ib as g,mb as E,na as v,nb as F,oa as f,ob as C,pb as S,qb as i,rb as o,sb as m,vb as k,zb as w}from"./chunk-FMPYM7VX.js";var te=(t,s)=>s._id,ie=t=>["/details",t],ne=()=>[1,2,3,4,5];function re(t,s){t&1&&m(0,"img",12)}function oe(t,s){t&1&&m(0,"img",13)}function ae(t,s){t&1&&m(0,"img",14)}function se(t,s){t&1&&m(0,"img",15)}function me(t,s){t&1&&m(0,"img",16)}function le(t,s){t&1&&m(0,"img",17)}function ce(t,s){if(t&1&&(i(0,"div"),m(1,"img",18),i(2,"h3",19),c(3),o()()),t&2){let e=_().$implicit;a(),g("src",e.image,W)("alt",e.name),a(2),u(e.name)}}function pe(t,s){t&1&&x(0,ce,4,3,"ng-template",5)}function de(t,s){t&1&&(i(0,"span"),m(1,"i",32),o())}function ge(t,s){t&1&&m(0,"i",26)}function ue(t,s){if(t&1){let e=k();i(0,"div",6)(1,"div",20)(2,"div",21),m(3,"img",22),i(4,"h3",23),c(5),T(6,"termText"),o(),i(7,"h4",24),c(8),T(9,"termText"),o(),i(10,"div",25)(11,"span"),c(12),o(),i(13,"div"),C(14,de,2,0,"span",null,F),x(16,ge,1,0,"i",26),i(17,"span",27),c(18),o()()()(),i(19,"div",28,0),w("click",function(){let n=v(e).$implicit,l=h(20),d=h(23),b=_();return f(b.addWish(n._id,l,d))}),m(21,"i",29),o(),i(22,"div",30,1),w("click",function(){let n=v(e).$implicit,l=h(20),d=h(23),b=_();return f(b.removeWish(n._id,l,d))}),o(),i(24,"button",31),w("click",function(){let n=v(e).$implicit,l=_();return f(l.addCart(n._id))}),c(25,"Add to cart"),o()()()}if(t&2){let e=s.$implicit;a(2),g("routerLink",N(14,ie,e._id)),a(),g("src",e.imageCover,W)("alt",e.title),a(2),u(y(6,8,e.category.name,1)),a(3),u(y(9,11,e.title,2)),a(4),u(e.price),a(2),S(A(16,ne).slice(0,e.ratingsAverage)),a(2),E(16,e.ratingsAverage%1!==0?16:-1),a(2),u(e.ratingsAverage)}}var Fe=(()=>{class t{constructor(){this._ProductsService=p(q),this._CategoriesService=p(G),this._CartService=p(O),this._ToastrService=p(Z),this._NgxSpinnerService=p(ee),this._WishListService=p(V),this._Renderer2=p(L),this.ProductsList=H([]),this.categoriesList=H([]),this.text="",this.customOptionsMain={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,rtl:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,autoplay:!0,dots:!0,navSpeed:700,navText:["",""],responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:6}},nav:!1},this.customOptionsCat={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,rtl:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,autoplay:!0,dots:!1,navSpeed:700,navText:["",""],items:1,nav:!0}}ngOnInit(){this._NgxSpinnerService.show("loading-3"),this._CategoriesService.getAllCategories().subscribe({next:e=>{console.log(e.data),this.categoriesList.set(e.data),this._NgxSpinnerService.hide("loading-3")},error:e=>{console.log(e)}}),this.getAllProductSub=this._ProductsService.getAllProducts().subscribe({next:e=>{console.log(e.data),this.ProductsList.set(e.data)},error:e=>{console.log(e)}})}ngOnDestroy(){this.getAllProductSub?.unsubscribe()}addCart(e){this._CartService.addProductToCart(e).subscribe({next:r=>{console.log(r),this._ToastrService.success(r.message,"Fresh Cart"),this._CartService.cartNum.set(r.numOfCartItems),console.log(this._CartService.cartNum())},error:r=>{console.log(r)}})}addWish(e,r,n){this._WishListService.addToWishList(e).subscribe({next:l=>{console.log(l),this._WishListService.wishCount.next(l.data.length),this._ToastrService.success(l.message),this._Renderer2.addClass(r,"d-none"),this._Renderer2.removeClass(n,"d-none")}})}removeWish(e,r,n){this._WishListService.removeFromWishList(e).subscribe({next:l=>{this._ToastrService.success("Product removed successfully from your wishlist"),this._WishListService.wishCount.next(l.data.length),this._Renderer2.addClass(n,"d-none"),this._Renderer2.removeClass(r,"d-none")}})}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-home"]],standalone:!0,features:[j],decls:28,vars:6,consts:[["addWishBtn",""],["removeWishBtn",""],[1,"row","g-0"],[1,"col-md-10"],[3,"options"],["carouselSlide",""],[1,"col-md-2"],["src","./assets/images/images/slider-image-2.jpeg","height","150px","alt","",1,"w-100"],["src","./assets/images/images/slider-image-1.jpeg","height","150px","alt","",1,"w-100"],[1,"my-2"],["type","search","placeholder","Search By Name....",1,"form-control","w-50","mx-auto","my-3","shadow",3,"ngModelChange","ngModel"],[1,"row","g-3"],["src","./assets/images/images/slider-image-3.jpeg","height","300px","alt","",1,"w-100"],["src","../../../assets/images/images/banner-4.jpeg","height","300px","alt","",1,"w-100"],["src","../../../assets/images/images/grocery-banner.png","height","300px","alt","",1,"w-100"],["src","../../../assets/images/images/grocery-banner-2.jpeg","height","300px","alt","",1,"w-100"],["src","../../../assets/images/images/slider-2.jpeg","height","300px","alt","",1,"w-100"],["src","../../../assets/images/images/slider-image-3.jpeg","height","300px","alt","",1,"w-100"],["height","300",1,"w-100",3,"src","alt"],[1,"text-main"],[1,"product","p-2"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"fa-solid","fa-star-half-stroke","rating-color"],[1,"text-muted"],[1,"addWish-btn","main-color",3,"click"],[1,"fa-regular","fa-heart"],[1,"removeWish-btn","main-color","d-none",3,"click"],[1,"btn-main","w-100","card-btn",3,"click"],[1,"fas","fa-star","rating-color"]],template:function(r,n){r&1&&(i(0,"section")(1,"div",2)(2,"div",3)(3,"owl-carousel-o",4),x(4,re,1,0,"ng-template",5)(5,oe,1,0,"ng-template",5)(6,ae,1,0,"ng-template",5)(7,se,1,0,"ng-template",5)(8,me,1,0,"ng-template",5)(9,le,1,0,"ng-template",5),o()(),i(10,"div",6)(11,"div"),m(12,"img",7)(13,"img",8),o()()()(),i(14,"section",9)(15,"h2"),c(16,"Popular Categories"),o(),i(17,"owl-carousel-o",4),C(18,pe,1,0,null,5,te),o()(),i(20,"section")(21,"h2"),c(22,"Popular Products :"),o(),i(23,"input",10),D("ngModelChange",function(d){return M(n.text,d)||(n.text=d),d}),o(),i(24,"div",11),C(25,ue,26,17,"div",6,te),T(27,"search"),o()()),r&2&&(a(3),g("options",n.customOptionsCat),a(14),g("options",n.customOptionsMain),a(),S(n.categoriesList()),a(5),B("ngModel",n.text),a(2),S(y(27,3,n.ProductsList().slice(0,12),n.text)))},dependencies:[Q,K,J,I,X,U,R,$,z,Y]})}}return t})();export{Fe as HomeComponent};
