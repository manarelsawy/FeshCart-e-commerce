import{a as F}from"./chunk-WW5ZO7M5.js";import{a as j}from"./chunk-NZWNPLJ2.js";import"./chunk-XAZLOLJU.js";import{a as D}from"./chunk-OHNC77NK.js";import{h as k}from"./chunk-6ZCYXRR4.js";import{i as I,j as L,m as T}from"./chunk-RR6JAF5F.js";import{Ab as p,Ib as a,Jb as g,Kb as x,Na as S,Pb as y,Ra as o,Rb as W,Sa as d,Vb as E,Xb as b,da as w,gb as _,ib as c,na as h,oa as u,qb as i,rb as r,sb as l,vb as C,zb as f}from"./chunk-FMPYM7VX.js";var V=e=>["/details",e];function O(e,m){e&1&&(i(0,"div",4),l(1,"img",5),i(2,"h3"),a(3,"Your "),i(4,"span",6),a(5,"Wishlist"),r(),a(6," Is Empty!"),r()())}function P(e,m){e&1&&(i(0,"div",7)(1,"h3",8),a(2,"Your "),i(3,"span",6),a(4,"Wishlist"),r()()())}function N(e,m){if(e&1){let t=C();i(0,"div",11)(1,"div",12)(2,"div",13),f("click",function(){let n=h(t).$implicit,v=p(2);return u(v.removeWish(n._id))}),l(3,"i",14),r(),i(4,"div",15),l(5,"img",16),i(6,"div",17)(7,"h4",18),a(8),r(),i(9,"h3",19),a(10),r(),i(11,"div",20)(12,"span",21),a(13),E(14,"currency"),r(),i(15,"div",22),l(16,"i",23),i(17,"span"),a(18),r()()()()(),i(19,"button",24),f("click",function(){let n=h(t).$implicit,v=p(2);return u(v.addCart(n._id))}),l(20,"i",25),a(21," Add to cart "),r()()()}if(e&2){let t=m.$implicit;o(4),c("routerLink",W(9,V,t._id)),o(),c("src",t.imageCover,S),o(3),x(" ",t.category.name," "),o(2),g(t.title),o(3),g(b(14,6,t.price,"EGP ")),o(5),x(" ",t.ratingsAverage,"")}}function $(e,m){if(e&1&&(i(0,"div",9),_(1,N,22,11,"div",10),r()),e&2){let t=p();o(),c("ngForOf",t.wishlistData)}}var R=(()=>{class e{constructor(t,s,n){this._WishlistService=t,this._CartService=s,this._ToastrService=n,this.wishlistData=[],this.isEmpty=!0}ngOnInit(){this._WishlistService.getWishList().subscribe({next:t=>{this.wishlistData=t.data}})}addCart(t){this._CartService.addProductToCart(t).subscribe({next:s=>{this._CartService.cartNum.set(s.numOfCartItems),this._ToastrService.success(s.message)}})}removeWish(t){this._WishlistService.removeFromWishList(t).subscribe({next:s=>{this._WishlistService.getWishList().subscribe({next:({data:n})=>{n.length==0?this.isEmpty=!0:(this.wishlistData=n,this.isEmpty=!1)}}),this._ToastrService.success("Product removed successfully from your wishlist"),this._WishlistService.wishCount.next(s.data.length),s.data.length==0&&(this.isEmpty=!0)}})}static{this.\u0275fac=function(s){return new(s||e)(d(F),d(D),d(j))}}static{this.\u0275cmp=w({type:e,selectors:[["app-wish-list"]],standalone:!0,features:[y],decls:4,vars:3,consts:[[1,"pt-5"],["class","cartCaption text-center",4,"ngIf"],["class","secTitle mb-4",4,"ngIf"],["class","row g-4 row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-3 row-cols-xl-4",4,"ngIf"],[1,"cartCaption","text-center"],["src","../../../assets/images/images/freshcart-logo.svg","alt","",1,"my-5","wishlist","w-100"],[1,"main-color"],[1,"secTitle","mb-4"],[1,"text-center"],[1,"row","g-4","row-cols-1","row-cols-sm-2","row-cols-md-3","row-cols-lg-3","row-cols-xl-4"],["class","col",4,"ngFor","ngForOf"],[1,"col"],[1,"card","justify-content-around","align-items-center","p-2"],[1,"removeWish-btn","main-color",3,"click"],[1,"fa-solid","fa-heart"],[3,"routerLink"],["alt","",1,"w-100",3,"src"],[1,"productDetails","p-1","pt-2"],[1,"small","main-color","fw-bolder"],[1,"small"],[1,"product-footer","small","d-flex","justify-content-between","align-items-center"],[1,""],[1,"rating"],[1,"fa-solid","fa-star","rating-color"],[1,"main-btn","small","card-btn","w-100",3,"click"],[1,"fa-solid","fa-plus"]],template:function(s,n){s&1&&(i(0,"section",0),_(1,O,7,0,"div",1)(2,P,5,0,"div",2)(3,$,2,1,"div",3),r()),s&2&&(o(),c("ngIf",n.isEmpty),o(),c("ngIf",!n.isEmpty),o(),c("ngIf",!n.isEmpty))},dependencies:[L,k,I,T]})}}return e})();export{R as WishListComponent};
