import{a as V}from"./chunk-YUDBLRDY.js";import{a as D,b as c,c as I,d as G,f as B,h as M,i as k,j as $,l as j}from"./chunk-OHJIK5BS.js";import{g as A}from"./chunk-6ZCYXRR4.js";import{h as L}from"./chunk-RR6JAF5F.js";import{Ab as w,Ib as o,Jb as q,Pb as x,Ra as l,Sb as y,aa as T,da as P,gb as _,ib as h,mb as u,qb as i,rb as n,sb as F,zb as N}from"./chunk-FMPYM7VX.js";var R=(t,s)=>({"is-valid":t,"is-invalid":s});function O(t,s){t&1&&(i(0,"p",19),o(1,"Name Is Required"),n())}function z(t,s){t&1&&(i(0,"p",19),o(1,"Name Shoud be more than or equal 3 chars"),n())}function H(t,s){t&1&&(i(0,"p",19),o(1,"Name Shoud be less than or equal 20 chars"),n())}function J(t,s){if(t&1&&(i(0,"div",6),_(1,O,2,0,"p",19)(2,z,2,0)(3,H,2,0),n()),t&2){let r,a=w();l(),u(1,(r=a.resgisterFrom.get("name"))!=null&&r.getError("required")?1:(r=a.resgisterFrom.get("name"))!=null&&r.getError("minlength")?2:(r=a.resgisterFrom.get("name"))!=null&&r.getError("maxlength")?3:-1)}}function K(t,s){t&1&&(i(0,"p",19),o(1,"Email Is Required"),n())}function Q(t,s){t&1&&(i(0,"p",19),o(1,"Enter Valid Email"),n())}function U(t,s){if(t&1&&(i(0,"div",6),_(1,K,2,0,"p",19)(2,Q,2,0),n()),t&2){let r,a=w();l(),u(1,(r=a.resgisterFrom.get("email"))!=null&&r.getError("required")?1:(r=a.resgisterFrom.get("email"))!=null&&r.getError("email")?2:-1)}}function W(t,s){t&1&&(i(0,"p",19),o(1,"Phone Is Required"),n())}function X(t,s){t&1&&(i(0,"p",19),o(1,"Enter Valid phone"),n())}function Y(t,s){if(t&1&&(i(0,"div",6),_(1,W,2,0,"p",19)(2,X,2,0),n()),t&2){let r,a=w();l(),u(1,(r=a.resgisterFrom.get("phone"))!=null&&r.getError("required")?1:(r=a.resgisterFrom.get("phone"))!=null&&r.getError("pattern")?2:-1)}}function Z(t,s){t&1&&(i(0,"p",19),o(1,"Password Is Required"),n())}function ee(t,s){t&1&&(i(0,"p",19),o(1,"Enter Valid Password"),n())}function te(t,s){if(t&1&&(i(0,"div",6),_(1,Z,2,0,"p",19)(2,ee,2,0),n()),t&2){let r,a=w();l(),u(1,(r=a.resgisterFrom.get("password"))!=null&&r.getError("required")?1:(r=a.resgisterFrom.get("password"))!=null&&r.getError("pattern")?2:-1)}}function re(t,s){t&1&&(i(0,"p",15),o(1,"Password confirmation is incorrect"),n())}function ne(t,s){t&1&&(i(0,"span"),F(1,"i",20),n())}function ie(t,s){if(t&1&&(i(0,"p",17),o(1),n()),t&2){let r=w();l(),q(r.msgError)}}function le(t,s){t&1&&(i(0,"p",18),o(1,"Success"),n())}var _e=(()=>{class t{constructor(){this._AuthService=T(V),this._FormBuilder=T($),this._Router=T(A),this.msgError="",this.msgSuccess=!1,this.isLoading=!1,this.resgisterFrom=this._FormBuilder.group({name:[null,[c.required,c.minLength(3),c.maxLength(20)]],email:[null,[c.required,c.email]],phone:[null,[c.required,c.pattern(/^01[0125][0-9]{8}$/)]],password:[null,[c.required,c.pattern(/^\w{6,}$/)]],rePassword:[null]},{validators:this.confirmPassword})}registerSubmit(){this.resgisterFrom.valid?(this.isLoading=!0,this.registerSub=this._AuthService.setRegisterForm(this.resgisterFrom.value).subscribe({next:r=>{console.log(r),r.message==="success"&&(this.msgSuccess=!0,setTimeout(()=>{this._Router.navigate(["/login"])},2e3)),this.isLoading=!1},error:r=>{this.msgError=r.error.message,console.log(r),this.isLoading=!1}})):(this.resgisterFrom.setErrors({mismatch:!0}),this.resgisterFrom.markAllAsTouched())}ngOnDestroy(){this.registerSub?.unsubscribe()}confirmPassword(r){return r.get("password")?.value===r.get("rePassword")?.value?null:{mismatch:!0}}static{this.\u0275fac=function(a){return new(a||t)}}static{this.\u0275cmp=P({type:t,selectors:[["app-register"]],standalone:!0,features:[x],decls:34,vars:29,consts:[[1,"bg-main-light","shadow","p-2","my-2","rounded-4"],[1,"h2","text-main"],[3,"ngSubmit","formGroup"],[1,"my-2"],["for","name"],["formControlName","name","id","name","type","text",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-100","p-1"],["for","email"],["formControlName","email","type","email",1,"form-control",3,"ngClass"],["for","phone"],["formControlName","phone","id","phone","type","text",1,"form-control",3,"ngClass"],["for","password"],["formControlName","password","id","password","type","password",1,"form-control",3,"ngClass"],["for","rePassword"],["formControlName","rePassword","id","rePassword","type","password",1,"form-control",3,"ngClass"],[1,"alert","alert-danger","w-100","m-0","p-1"],["type","submit",1,"btn-main","ms-auto","d-block"],[1,"alert","alert-danger","w-50","m-0","p-1"],[1,"alert","alert-success"],[1,"m-0"],[1,"fas","fa-spin","fa-spinner"]],template:function(a,e){if(a&1&&(i(0,"section",0)(1,"h1",1),o(2,"Register Now :"),n(),i(3,"form",2),N("ngSubmit",function(){return e.registerSubmit()}),i(4,"div",3)(5,"label",4),o(6,"Name"),n(),F(7,"input",5),_(8,J,4,1,"div",6),n(),i(9,"div",3)(10,"label",7),o(11,"Email"),n(),F(12,"input",8),_(13,U,3,1,"div",6),n(),i(14,"div",3)(15,"label",9),o(16,"Phone"),n(),F(17,"input",10),_(18,Y,3,1,"div",6),n(),i(19,"div",3)(20,"label",11),o(21,"Password"),n(),F(22,"input",12),_(23,te,3,1,"div",6),n(),i(24,"div",3)(25,"label",13),o(26,"rePassword"),n(),F(27,"input",14),_(28,re,2,0,"p",15),n(),i(29,"button",16),o(30,"Register "),_(31,ne,2,0,"span"),n(),_(32,ie,2,1,"p",17)(33,le,2,0,"p",18),n()()),a&2){let m,C,d,E,g,v,p,S,f,b;l(3),h("formGroup",e.resgisterFrom),l(4),h("ngClass",y(14,R,!((m=e.resgisterFrom.get("name"))!=null&&m.errors)&&(((m=e.resgisterFrom.get("name"))==null?null:m.touched)||((m=e.resgisterFrom.get("name"))==null?null:m.dirty)),((m=e.resgisterFrom.get("name"))==null?null:m.errors)&&(((m=e.resgisterFrom.get("name"))==null?null:m.touched)||((m=e.resgisterFrom.get("name"))==null?null:m.dirty)))),l(),u(8,(C=e.resgisterFrom.get("name"))!=null&&C.errors&&((C=e.resgisterFrom.get("name"))!=null&&C.touched||(C=e.resgisterFrom.get("name"))!=null&&C.dirty)?8:-1),l(4),h("ngClass",y(17,R,!((d=e.resgisterFrom.get("email"))!=null&&d.errors)&&(((d=e.resgisterFrom.get("email"))==null?null:d.touched)||((d=e.resgisterFrom.get("email"))==null?null:d.dirty)),((d=e.resgisterFrom.get("email"))==null?null:d.errors)&&(((d=e.resgisterFrom.get("email"))==null?null:d.touched)||((d=e.resgisterFrom.get("email"))==null?null:d.dirty)))),l(),u(13,(E=e.resgisterFrom.get("email"))!=null&&E.errors&&((E=e.resgisterFrom.get("email"))!=null&&E.touched||(E=e.resgisterFrom.get("email"))!=null&&E.dirty)?13:-1),l(4),h("ngClass",y(20,R,!((g=e.resgisterFrom.get("phone"))!=null&&g.errors)&&(((g=e.resgisterFrom.get("phone"))==null?null:g.touched)||((g=e.resgisterFrom.get("phone"))==null?null:g.dirty)),((g=e.resgisterFrom.get("phone"))==null?null:g.errors)&&(((g=e.resgisterFrom.get("phone"))==null?null:g.touched)||((g=e.resgisterFrom.get("phone"))==null?null:g.dirty)))),l(),u(18,(v=e.resgisterFrom.get("phone"))!=null&&v.errors&&((v=e.resgisterFrom.get("phone"))!=null&&v.touched||(v=e.resgisterFrom.get("phone"))!=null&&v.dirty)?18:-1),l(4),h("ngClass",y(23,R,!((p=e.resgisterFrom.get("password"))!=null&&p.errors)&&(((p=e.resgisterFrom.get("password"))==null?null:p.touched)||((p=e.resgisterFrom.get("password"))==null?null:p.dirty)),((p=e.resgisterFrom.get("password"))==null?null:p.errors)&&(((p=e.resgisterFrom.get("password"))==null?null:p.touched)||((p=e.resgisterFrom.get("password"))==null?null:p.dirty)))),l(),u(23,(S=e.resgisterFrom.get("password"))!=null&&S.errors&&((S=e.resgisterFrom.get("password"))!=null&&S.touched||(S=e.resgisterFrom.get("password"))!=null&&S.dirty)?23:-1),l(4),h("ngClass",y(26,R,!e.resgisterFrom.getError("mismatch")&&(((f=e.resgisterFrom.get("rePassword"))==null?null:f.touched)||((f=e.resgisterFrom.get("rePassword"))==null?null:f.dirty)),e.resgisterFrom.getError("mismatch")&&(((f=e.resgisterFrom.get("rePassword"))==null?null:f.touched)||((f=e.resgisterFrom.get("rePassword"))==null?null:f.dirty)))),l(),u(28,e.resgisterFrom.getError("mismatch")&&((b=e.resgisterFrom.get("rePassword"))!=null&&b.touched||(b=e.resgisterFrom.get("rePassword"))!=null&&b.dirty)?28:-1),l(3),u(31,e.isLoading?31:-1),l(),u(32,e.msgError?32:-1),l(),u(33,e.msgSuccess?33:-1)}},dependencies:[j,B,D,I,G,M,k,L]})}}return t})();export{_e as RegisterComponent};
